{"StartAt": "START CI_ENTITY_GLA SCHEDULE", "States": {"START CI_ENTITY_GLA SCHEDULE": {"Type": "Pass", "InputPath": "$", "OutputPath": "$", "Next": "StartParallel"}, "StartParallel": {"Type": "Parallel", "Next": "Completed", "ResultPath": "$.parallelResult", "Branches": [{"StartAt": "GLA_EXD_SRV_APLD_MTL_FS", "States": {"GLA_EXD_SRV_APLD_MTL_FS": {"Type": "Choice", "Choices": [{"Variable": "$.INPUT.GLA_EXD_SRV_APLD_MTL_FS", "StringEquals": "Y", "Next": "SKIP GLA_EXD_SRV_APLD_MTL_FS "}], "Default": "LOAD GLA_EXD_SRV_APLD_MTL_FS "}, "LOAD GLA_EXD_SRV_APLD_MTL_FS ": {"Type": "Task", "InputPath": "$", "ResultPath": "$.GLA_EXD_SRV_APLD_MTL_FS ", "Resource": "arn:aws:states:::glue:startJobRun.sync", "Parameters": {"JobName": "job_mrr_entity_cds_rs_proc", "Arguments": {"--rs_proc_name": "hdl_services_sp.sp_gla_exd_srv_apld_mtl_fs_gla()", "--query_tag": "CIE-la_exd_srv_apld_mtl_fs_gla", "--stats_flg": "Y"}}, "Retry": [{"ErrorEquals": ["States.Timeout"], "MaxAttempts": 3, "IntervalSeconds": 60, "BackoffRate": 2}], "Catch": [{"ErrorEquals": ["States.TaskFailed"], "Next": "SNS_GLA_EXD_SRV_APLD_MTL_FS_FAILED"}], "Next": "SKIP GLA_EXD_SRV_APLD_MTL_FS "}, "SNS_GLA_EXD_SRV_APLD_MTL_FS_FAILED": {"Type": "Task", "Resource": "arn:aws:states:::sns:publish", "Parameters": {"TopicArn": "arn:aws:sns:us-east-1:541574621075:ODP_SFN_FAILURE", "Message.$": "$.Cause", "Subject": "AWS GLUE SHELL JOB FOR GLA_EXD_SRV_APLD_MTL_FS  FAILED!"}, "Next": "GLA_EXD_SRV_APLD_MTL_FS_ACTIVITY"}, "GLA_EXD_SRV_APLD_MTL_FS_ACTIVITY": {"Type": "Task", "Resource": "arn:aws:states:us-east-1:541574621075:activity:CI_ENTITY_GLA_EXD_SRV_APLD_MTL_FS_ACTIVITY", "End": true}, "SKIP GLA_EXD_SRV_APLD_MTL_FS ": {"Type": "Pass", "Next": "GLA_INV_GLA_SRV_APLD_MTL_F"}, "GLA_INV_GLA_SRV_APLD_MTL_F": {"Type": "Choice", "Choices": [{"Variable": "$.INPUT.GLA_INV_GLA_SRV_APLD_MTL_F", "StringEquals": "Y", "Next": "SKIP GLA_INV_GLA_SRV_APLD_MTL_F "}], "Default": "LOAD GLA_INV_GLA_SRV_APLD_MTL_F "}, "LOAD GLA_INV_GLA_SRV_APLD_MTL_F ": {"Type": "Task", "InputPath": "$", "ResultPath": "$.GLA_INV_GLA_SRV_APLD_MTL_F ", "Resource": "arn:aws:states:::glue:startJobRun.sync", "Parameters": {"JobName": "job_mrr_entity_cds_rs_proc", "Arguments": {"--rs_proc_name": "hdl_services_sp.sp_inv_gla_srv_apld_mtl_f_gla()", "--query_tag": "CIE-inv_gla_srv_apld_mtl_f_gla", "--stats_flg": "Y"}}, "Retry": [{"ErrorEquals": ["States.Timeout"], "MaxAttempts": 3, "IntervalSeconds": 60, "BackoffRate": 2}], "Catch": [{"ErrorEquals": ["States.TaskFailed"], "Next": "SNS_GLA_INV_GLA_SRV_APLD_MTL_F_FAILED"}], "Next": "SKIP GLA_INV_GLA_SRV_APLD_MTL_F "}, "SNS_GLA_INV_GLA_SRV_APLD_MTL_F_FAILED": {"Type": "Task", "Resource": "arn:aws:states:::sns:publish", "Parameters": {"TopicArn": "arn:aws:sns:us-east-1:541574621075:ODP_SFN_FAILURE", "Message.$": "$.Cause", "Subject": "AWS GLUE SHELL JOB FOR GLA_INV_GLA_SRV_APLD_MTL_F  FAILED!"}, "Next": "GLA_INV_GLA_SRV_APLD_MTL_F_ACTIVITY"}, "GLA_INV_GLA_SRV_APLD_MTL_F_ACTIVITY": {"Type": "Task", "Resource": "arn:aws:states:us-east-1:541574621075:activity:CI_ENTITY_GLA_INV_GLA_SRV_APLD_MTL_F_ACTIVITY", "End": true}, "SKIP GLA_INV_GLA_SRV_APLD_MTL_F ": {"Type": "Pass", "End": true}}}, {"StartAt": "GLA_GL_BALNC_FLTR_DS", "States": {"GLA_GL_BALNC_FLTR_DS": {"Type": "Choice", "Choices": [{"Variable": "$.INPUT.GLA_GL_BALNC_FLTR_DS", "StringEquals": "Y", "Next": "SKIP GLA_GL_BALNC_FLTR_DS "}], "Default": "LOAD GLA_GL_BALNC_FLTR_DS "}, "LOAD GLA_GL_BALNC_FLTR_DS ": {"Type": "Task", "InputPath": "$", "ResultPath": "$.GLA_GL_BALNC_FLTR_DS ", "Resource": "arn:aws:states:::glue:startJobRun.sync", "Parameters": {"JobName": "job_mrr_entity_cds_rs_proc", "Arguments": {"--rs_proc_name": "hdl_services_sp.sp_gl_balnc_fltr_ds()", "--query_tag": "CIE-sp_gl_balnc_fltr_ds", "--stats_flg": "Y"}}, "Retry": [{"ErrorEquals": ["States.Timeout"], "MaxAttempts": 3, "IntervalSeconds": 60, "BackoffRate": 2}], "Catch": [{"ErrorEquals": ["States.TaskFailed"], "Next": "SNS_GLA_GL_BALNC_FLTR_DS_FAILED"}], "Next": "SKIP GLA_GL_BALNC_FLTR_DS "}, "SNS_GLA_GL_BALNC_FLTR_DS_FAILED": {"Type": "Task", "Resource": "arn:aws:states:::sns:publish", "Parameters": {"TopicArn": "arn:aws:sns:us-east-1:541574621075:ODP_SFN_FAILURE", "Message.$": "$.Cause", "Subject": "AWS GLUE SHELL JOB FOR GLA_GL_BALNC_FLTR_DS  FAILED!"}, "Next": "GLA_GL_BALNC_FLTR_DS_ACTIVITY"}, "GLA_GL_BALNC_FLTR_DS_ACTIVITY": {"Type": "Task", "Resource": "arn:aws:states:us-east-1:541574621075:activity:CI_ENTITY_GLA_GL_BALNC_FLTR_DS_ACTIVITY", "End": true}, "SKIP GLA_GL_BALNC_FLTR_DS ": {"Type": "Pass", "Next": "GLA_GL_BALNC_FLTR_D"}, "GLA_GL_BALNC_FLTR_D": {"Type": "Choice", "Choices": [{"Variable": "$.INPUT.GLA_GL_BALNC_FLTR_D", "StringEquals": "Y", "Next": "SKIP GLA_GL_BALNC_FLTR_D "}], "Default": "LOAD GLA_GL_BALNC_FLTR_D "}, "LOAD GLA_GL_BALNC_FLTR_D ": {"Type": "Task", "InputPath": "$", "ResultPath": "$.GLA_GL_BALNC_FLTR_D ", "Resource": "arn:aws:states:::glue:startJobRun.sync", "Parameters": {"JobName": "job_mrr_entity_cds_rs_proc", "Arguments": {"--rs_proc_name": "hdl_services_sp.sp_gl_balnc_fltr_d()", "--query_tag": "CIE-sp_gl_balnc_fltr_d", "--stats_flg": "Y"}}, "Retry": [{"ErrorEquals": ["States.Timeout"], "MaxAttempts": 3, "IntervalSeconds": 60, "BackoffRate": 2}], "Catch": [{"ErrorEquals": ["States.TaskFailed"], "Next": "SNS_GLA_GL_BALNC_FLTR_D_FAILED"}], "Next": "SKIP GLA_GL_BALNC_FLTR_D "}, "SNS_GLA_GL_BALNC_FLTR_D_FAILED": {"Type": "Task", "Resource": "arn:aws:states:::sns:publish", "Parameters": {"TopicArn": "arn:aws:sns:us-east-1:541574621075:ODP_SFN_FAILURE", "Message.$": "$.Cause", "Subject": "AWS GLUE SHELL JOB FOR GLA_GL_BALNC_FLTR_D  FAILED!"}, "Next": "GLA_GL_BALNC_FLTR_D_ACTIVITY"}, "GLA_GL_BALNC_FLTR_D_ACTIVITY": {"Type": "Task", "Resource": "arn:aws:states:us-east-1:541574621075:activity:CI_ENTITY_GLA_GL_BALNC_FLTR_D_ACTIVITY", "End": true}, "SKIP GLA_GL_BALNC_FLTR_D ": {"Type": "Pass", "End": true}}}]}, "Completed": {"Type": "Pass", "Next": "SNS_CI_ENTITY_GLA_SUCCESS"}, "SNS_CI_ENTITY_GLA_SUCCESS": {"Type": "Task", "Resource": "arn:aws:states:::sns:publish", "Parameters": {"TopicArn": "arn:aws:sns:us-east-1:541574621075:ODP_SFN_SUCCESS", "Message": {"Subject": "AWS Step function for CI_ENTITY_GLA_SUCCESS completed successfully!!"}}, "End": true}}}