{"StartAt": "START MAPP GLPROD COMPACTION JOBS", "States": {"START MAPP GLPROD COMPACTION JOBS": {"Type": "Pass", "InputPath": "$", "ResultPath": "$", "Next": "StartParallel"}, "StartParallel": {"Type": "Parallel", "Next": "Completed", "ResultPath": "$.parallelResult", "Branches": [{"StartAt": "MAPP_COMPACTION_GLPROD1", "States": {"MAPP_COMPACTION_GLPROD1": {"Type": "Choice", "Choices": [{"Variable": "$.INPUT.MAPP_COMPACTION_GLPROD1", "StringEquals": "Y", "Next": "PASS MAPP_COMPACTION_GLPROD1"}], "Default": "LOAD MAPP_COMPACTION_GLPROD1"}, "LOAD MAPP_COMPACTION_GLPROD1": {"Type": "Task", "ResultPath": "$.GLPROD1", "Resource": "arn:aws:states:::states:startExecution.sync", "Parameters": {"Input": {"INPUT": {"GET_LAMBDA": "N", "SRC_NAME": "MAPP_GLPROD", "BATCH_NUMBER": "", "job_lnd_mrr_full_refresh_glprod_hr_organization_units": "N", "job_lnd_mrr_full_refresh_glprod_oe_lookups": "N", "job_lnd_mrr_full_refresh_glprod_po_lookup_codes": "N", "job_lnd_mrr_full_refresh_glprod_ego_attr_groups_v": "N", "job_lnd_mrr_full_refresh_glprod_mtl_category_sets_tl": "N", "job_lnd_mrr_full_refresh_glprod_po_vendor_sites_all": "N", "job_lnd_mrr_full_refresh_glprod_po_vendors": "N", "job_lnd_mrr_incr_refresh_ov_glprod_ego_mtl_sy_items_ext_b": "N", "job_lnd_mrr_incr_refresh_ov_glprod_mtl_transaction_lot_numbers": "N"}}, "StateMachineArn": "arn:aws:states:us-east-1:541574621075:stateMachine:MAPP_COMPACTION_GLPROD1"}, "Retry": [{"ErrorEquals": ["States.Timeout"], "MaxAttempts": 3, "IntervalSeconds": 60, "BackoffRate": 2}], "Catch": [{"ErrorEquals": ["States.TaskFailed"], "Next": "SNS_MAPP_COMPACTION_GLPROD1_FAILED"}], "Next": "PASS MAPP_COMPACTION_GLPROD1"}, "SNS_MAPP_COMPACTION_GLPROD1_FAILED": {"Type": "Task", "Resource": "arn:aws:states:::sns:publish", "Parameters": {"TopicArn": "arn:aws:sns:us-east-1:541574621075:ODP_SFN_FAILURE", "Message.$": "$.Cause", "Subject": " AWS Step function for MAPP_COMPACTION_GLPROD1 Failed!"}, "Next": "MAPP_COMPACTION_GLPROD1_ACTIVITY"}, "MAPP_COMPACTION_GLPROD1_ACTIVITY": {"Type": "Task", "Resource": "arn:aws:states:us-east-1:541574621075:activity:COMPACTION_GLPROD1_ACTIVITY", "End": true}, "PASS MAPP_COMPACTION_GLPROD1": {"Type": "Pass", "End": true}}}, {"StartAt": "MAPP_COMPACTION_GLPROD2", "States": {"MAPP_COMPACTION_GLPROD2": {"Type": "Choice", "Choices": [{"Variable": "$.INPUT.MAPP_COMPACTION_GLPROD2", "StringEquals": "Y", "Next": "PASS MAPP_COMPACTION_GLPROD2"}], "Default": "LOAD MAPP_COMPACTION_GLPROD2"}, "LOAD MAPP_COMPACTION_GLPROD2": {"Type": "Task", "Resource": "arn:aws:states:::states:startExecution.sync", "ResultPath": "$.GLPROD2", "Parameters": {"Input": {"INPUT": {"GET_LAMBDA": "N", "SRC_NAME": "MAPP_GLPROD", "BATCH_NUMBER": "", "job_lnd_mrr_incr_refresh_ov_glprod_po_distributions_all": "N", "job_lnd_mrr_incr_refresh_ov_glprod_po_line_locations_all": "N", "job_lnd_mrr_incr_refresh_ov_glprod_po_req_distributions_all": "N", "job_lnd_mrr_incr_refresh_ov_glprod_wsh_delivery_assignments": "N", "job_lnd_mrr_incr_refresh_ov_glprod_mtl_categories_b": "N", "job_lnd_mrr_incr_refresh_ov_glprod_po_requisition_headers_all": "N", "job_lnd_mrr_incr_refresh_ov_glprod_wsh_carriers": "N"}}, "StateMachineArn": "arn:aws:states:us-east-1:541574621075:stateMachine:MAPP_COMPACTION_GLPROD2"}, "Retry": [{"ErrorEquals": ["States.Timeout"], "MaxAttempts": 3, "IntervalSeconds": 60, "BackoffRate": 2}], "Catch": [{"ErrorEquals": ["States.TaskFailed"], "Next": "SNS_MAPP_COMPACTION_GLPROD2_FAILED"}], "Next": "PASS MAPP_COMPACTION_GLPROD2"}, "SNS_MAPP_COMPACTION_GLPROD2_FAILED": {"Type": "Task", "Resource": "arn:aws:states:::sns:publish", "Parameters": {"TopicArn": "arn:aws:sns:us-east-1:541574621075:ODP_SFN_FAILURE", "Message.$": "$.Cause", "Subject": " AWS Step function for MAPP_COMPACTION_GLPROD2 Failed!"}, "Next": "MAPP_COMPACTION_GLPROD2_ACTIVITY"}, "MAPP_COMPACTION_GLPROD2_ACTIVITY": {"Type": "Task", "Resource": "arn:aws:states:us-east-1:541574621075:activity:COMPACTION_GLPROD2_ACTIVITY", "End": true}, "PASS MAPP_COMPACTION_GLPROD2": {"Type": "Pass", "End": true}}}, {"StartAt": "MAPP_COMPACTION_GLPROD3", "States": {"MAPP_COMPACTION_GLPROD3": {"Type": "Choice", "Choices": [{"Variable": "$.INPUT.MAPP_COMPACTION_GLPROD3", "StringEquals": "Y", "Next": "PASS MAPP_COMPACTION_GLPROD3"}], "Default": "LOAD MAPP_COMPACTION_GLPROD3"}, "LOAD MAPP_COMPACTION_GLPROD3": {"Type": "Task", "Resource": "arn:aws:states:::states:startExecution.sync", "ResultPath": "$.GLPROD3", "Parameters": {"Input": {"INPUT": {"GET_LAMBDA": "N", "SRC_NAME": "MAPP_GLPROD", "BATCH_NUMBER": "", "job_lnd_mrr_incr_refresh_ov_glprod_mtl_txn_request_lines": "N", "job_lnd_mrr_incr_refresh_ov_glprod_gems_ds_lines_all": "N", "job_lnd_mrr_incr_refresh_ov_glprod_po_releases_all": "N", "job_lnd_mrr_incr_refresh_ov_glprod_oe_hold_sources_all": "N", "job_lnd_mrr_incr_refresh_ov_glprod_oe_hold_definitions": "N", "job_lnd_mrr_incr_refresh_ov_glprod_rcv_transactions": "N", "job_lnd_mrr_incr_refresh_ov_glprod_po_requisition_lines_all": "N"}}, "StateMachineArn": "arn:aws:states:us-east-1:541574621075:stateMachine:MAPP_COMPACTION_GLPROD3"}, "Retry": [{"ErrorEquals": ["States.Timeout"], "MaxAttempts": 3, "IntervalSeconds": 60, "BackoffRate": 2}], "Catch": [{"ErrorEquals": ["States.TaskFailed"], "Next": "SNS_MAPP_COMPACTION_GLPROD3_FAILED"}], "Next": "PASS MAPP_COMPACTION_GLPROD3"}, "SNS_MAPP_COMPACTION_GLPROD3_FAILED": {"Type": "Task", "Resource": "arn:aws:states:::sns:publish", "Parameters": {"TopicArn": "arn:aws:sns:us-east-1:541574621075:ODP_SFN_FAILURE", "Message.$": "$.Cause", "Subject": " AWS Step function for MAPP_COMPACTION_GLPROD3 Failed!"}, "Next": "MAPP_COMPACTION_GLPROD3_ACTIVITY"}, "MAPP_COMPACTION_GLPROD3_ACTIVITY": {"Type": "Task", "Resource": "arn:aws:states:us-east-1:541574621075:activity:COMPACTION_GLPROD3_ACTIVITY", "End": true}, "PASS MAPP_COMPACTION_GLPROD3": {"Type": "Pass", "End": true}}}, {"StartAt": "MAPP_COMPACTION_GLPROD4", "States": {"MAPP_COMPACTION_GLPROD4": {"Type": "Choice", "Choices": [{"Variable": "$.INPUT.MAPP_COMPACTION_GLPROD4", "StringEquals": "Y", "Next": "PASS MAPP_COMPACTION_GLPROD4"}], "Default": "LOAD MAPP_COMPACTION_GLPROD4"}, "LOAD MAPP_COMPACTION_GLPROD4": {"Type": "Task", "Resource": "arn:aws:states:::states:startExecution.sync", "ResultPath": "$.GLPROD4", "Parameters": {"Input": {"INPUT": {"GET_LAMBDA": "N", "SRC_NAME": "MAPP_GLPROD", "BATCH_NUMBER": "", "job_lnd_mrr_incr_refresh_ov_glprod_hr_locations_all": "N", "job_lnd_mrr_incr_refresh_ov_glprod_mtl_related_items": "N", "job_lnd_mrr_incr_refresh_ov_glprod_po_lines_all": "N", "job_lnd_mrr_incr_refresh_ov_glprod_wms_license_plate_numbers": "N", "job_lnd_mrr_incr_refresh_ov_glprod_mtl_secondary_inventories": "N", "job_lnd_mrr_incr_refresh_ov_glprod_po_headers_all": "N", "job_lnd_mrr_incr_refresh_ov_glprod_wsh_new_deliveries": "N", "job_lnd_mrr_incr_refresh_ov_glprod_mtl_interorg_parameters": "N", "job_lnd_mrr_incr_refresh_ov_glprod_ge_ont_ship_restriction_holds": "N"}}, "StateMachineArn": "arn:aws:states:us-east-1:541574621075:stateMachine:MAPP_COMPACTION_GLPROD4"}, "Retry": [{"ErrorEquals": ["States.Timeout"], "MaxAttempts": 3, "IntervalSeconds": 60, "BackoffRate": 2}], "Catch": [{"ErrorEquals": ["States.TaskFailed"], "Next": "SNS_MAPP_COMPACTION_GLPROD4_FAILED"}], "Next": "PASS MAPP_COMPACTION_GLPROD4"}, "SNS_MAPP_COMPACTION_GLPROD4_FAILED": {"Type": "Task", "Resource": "arn:aws:states:::sns:publish", "Parameters": {"TopicArn": "arn:aws:sns:us-east-1:541574621075:ODP_SFN_FAILURE", "Message.$": "$.Cause", "Subject": " AWS Step function for MAPP_COMPACTION_GLPROD4 Failed!"}, "Next": "MAPP_COMPACTION_GLPROD4_ACTIVITY"}, "MAPP_COMPACTION_GLPROD4_ACTIVITY": {"Type": "Task", "Resource": "arn:aws:states:us-east-1:541574621075:activity:COMPACTION_GLPROD4_ACTIVITY", "End": true}, "PASS MAPP_COMPACTION_GLPROD4": {"Type": "Pass", "End": true}}}, {"StartAt": "MAPP_COMPACTION_GLPROD5", "States": {"MAPP_COMPACTION_GLPROD5": {"Type": "Choice", "Choices": [{"Variable": "$.INPUT.MAPP_COMPACTION_GLPROD5", "StringEquals": "Y", "Next": "PASS MAPP_COMPACTION_GLPROD5"}], "Default": "LOAD MAPP_COMPACTION_GLPROD5"}, "LOAD MAPP_COMPACTION_GLPROD5": {"Type": "Task", "Resource": "arn:aws:states:::states:startExecution.sync", "ResultPath": "$.GLPROD5", "Parameters": {"Input": {"INPUT": {"GET_LAMBDA": "N", "SRC_NAME": "MAPP_GLPROD", "BATCH_NUMBER": "", "job_lnd_mrr_incr_refresh_ov_glprod_cst_cost_types": "N", "job_lnd_mrr_full_refresh_glprod_fnd_currencies_vl": "N", "job_lnd_mrr_incr_refresh_ov_glprod_fnd_territories_tl": "N", "job_lnd_mrr_incr_refresh_ov_glprod_fnd_user": "N", "job_lnd_mrr_incr_refresh_ov_glprod_gehc_inv_gpo_routing": "N", "job_lnd_mrr_incr_refresh_ov_glprod_gl_daily_rates": "N", "job_lnd_mrr_full_refresh_glprod_hr_operating_units": "N", "job_lnd_mrr_incr_refresh_ov_glprod_hz_cust_accounts": "N", "job_lnd_mrr_incr_refresh_ov_glprod_hz_cust_acct_sites_all": "N", "job_lnd_mrr_incr_refresh_ov_glprod_hz_cust_site_uses_all": "N", "job_lnd_mrr_incr_refresh_ov_glprod_hz_parties": "N"}}, "StateMachineArn": "arn:aws:states:us-east-1:541574621075:stateMachine:MAPP_COMPACTION_GLPROD5"}, "Retry": [{"ErrorEquals": ["States.Timeout"], "MaxAttempts": 3, "IntervalSeconds": 60, "BackoffRate": 2}], "Catch": [{"ErrorEquals": ["States.TaskFailed"], "Next": "SNS_MAPP_COMPACTION_GLPROD5_FAILED"}], "Next": "PASS MAPP_COMPACTION_GLPROD5"}, "SNS_MAPP_COMPACTION_GLPROD5_FAILED": {"Type": "Task", "Resource": "arn:aws:states:::sns:publish", "Parameters": {"TopicArn": "arn:aws:sns:us-east-1:541574621075:ODP_SFN_FAILURE", "Message.$": "$.Cause", "Subject": " AWS Step function for MAPP_COMPACTION_GLPROD5 Failed!"}, "Next": "MAPP_COMPACTION_GLPROD5_ACTIVITY"}, "MAPP_COMPACTION_GLPROD5_ACTIVITY": {"Type": "Task", "Resource": "arn:aws:states:us-east-1:541574621075:activity:COMPACTION_GLPROD5_ACTIVITY", "End": true}, "PASS MAPP_COMPACTION_GLPROD5": {"Type": "Pass", "End": true}}}, {"StartAt": "MAPP_COMPACTION_GLPROD6", "States": {"MAPP_COMPACTION_GLPROD6": {"Type": "Choice", "Choices": [{"Variable": "$.INPUT.MAPP_COMPACTION_GLPROD6", "StringEquals": "Y", "Next": "PASS MAPP_COMPACTION_GLPROD6"}], "Default": "LOAD MAPP_COMPACTION_GLPROD6"}, "LOAD MAPP_COMPACTION_GLPROD6": {"Type": "Task", "Resource": "arn:aws:states:::states:startExecution.sync", "ResultPath": "$.GLPROD6", "Parameters": {"Input": {"INPUT": {"GET_LAMBDA": "N", "SRC_NAME": "MAPP_GLPROD", "BATCH_NUMBER": "", "job_lnd_mrr_incr_refresh_ov_glprod_hz_party_sites": "N", "job_lnd_mrr_incr_refresh_ov_glprod_hz_relationships": "N", "job_lnd_mrr_incr_refresh_ov_glprod_mtl_item_locations": "N", "job_lnd_mrr_incr_refresh_ov_glprod_mtl_parameters": "N", "job_lnd_mrr_incr_refresh_ov_glprod_mtl_system_items_b": "N", "job_lnd_mrr_incr_refresh_ov_glprod_mtl_transaction_types": "N", "job_lnd_mrr_incr_refresh_ov_glprod_cst_item_costs": "N", "job_lnd_mrr_full_refresh_glprod_org_organization_definitions": "N", "job_lnd_mrr_incr_refresh_ov_glprod_per_all_people_f": "N", "job_lnd_mrr_incr_refresh_ov_glprod_hz_locations": "N"}}, "StateMachineArn": "arn:aws:states:us-east-1:541574621075:stateMachine:MAPP_COMPACTION_GLPROD6"}, "Retry": [{"ErrorEquals": ["States.Timeout"], "MaxAttempts": 3, "IntervalSeconds": 60, "BackoffRate": 2}], "Catch": [{"ErrorEquals": ["States.TaskFailed"], "Next": "SNS_MAPP_COMPACTION_GLPROD6_FAILED"}], "Next": "PASS MAPP_COMPACTION_GLPROD6"}, "SNS_MAPP_COMPACTION_GLPROD6_FAILED": {"Type": "Task", "Resource": "arn:aws:states:::sns:publish", "Parameters": {"TopicArn": "arn:aws:sns:us-east-1:541574621075:ODP_SFN_FAILURE", "Message.$": "$.Cause", "Subject": " AWS Step function for MAPP_COMPACTION_GLPROD6 Failed!"}, "Next": "MAPP_COMPACTION_GLPROD6_ACTIVITY"}, "MAPP_COMPACTION_GLPROD6_ACTIVITY": {"Type": "Task", "Resource": "arn:aws:states:us-east-1:541574621075:activity:COMPACTION_GLPROD6_ACTIVITY", "End": true}, "PASS MAPP_COMPACTION_GLPROD6": {"Type": "Pass", "End": true}}}, {"StartAt": "MAPP_COMPACTION_GLPROD7", "States": {"MAPP_COMPACTION_GLPROD7": {"Type": "Choice", "Choices": [{"Variable": "$.INPUT.MAPP_COMPACTION_GLPROD7", "StringEquals": "Y", "Next": "PASS MAPP_COMPACTION_GLPROD7"}], "Default": "LOAD MAPP_COMPACTION_GLPROD7"}, "LOAD MAPP_COMPACTION_GLPROD7": {"Type": "Task", "Resource": "arn:aws:states:::states:startExecution.sync", "ResultPath": "$.GLPROD7", "Parameters": {"Input": {"INPUT": {"GET_LAMBDA": "N", "SRC_NAME": "MAPP_GLPROD", "BATCH_NUMBER": "", "job_lnd_mrr_incr_refresh_ov_glprod_mtl_item_categories": "N", "job_lnd_mrr_full_refresh_glprod_mtl_category_sets": "N", "job_lnd_mrr_full_refresh_glprod_mtl_categories": "N", "job_lnd_mrr_incr_refresh_ov_glprod_oe_order_sources": "N", "job_lnd_mrr_incr_refresh_ov_glprod_oe_transaction_types_all": "N", "job_lnd_mrr_incr_refresh_ov_glprod_oe_transaction_types_tl": "N", "job_lnd_mrr_incr_refresh_ov_glprod_gehc_gpo_stalled_order_reason": "N", "job_lnd_mrr_incr_refresh_ov_glprod_fnd_lookup_values": "N", "job_lnd_mrr_incr_refresh_ov_glprod_gl_code_combinations": "N", "job_lnd_mrr_incr_refresh_ov_glprod_mtl_material_transactions": "N"}}, "StateMachineArn": "arn:aws:states:us-east-1:541574621075:stateMachine:MAPP_COMPACTION_GLPROD7"}, "Retry": [{"ErrorEquals": ["States.Timeout"], "MaxAttempts": 3, "IntervalSeconds": 60, "BackoffRate": 2}], "Catch": [{"ErrorEquals": ["States.TaskFailed"], "Next": "SNS_MAPP_COMPACTION_GLPROD7_FAILED"}], "Next": "PASS MAPP_COMPACTION_GLPROD7"}, "SNS_MAPP_COMPACTION_GLPROD7_FAILED": {"Type": "Task", "Resource": "arn:aws:states:::sns:publish", "Parameters": {"TopicArn": "arn:aws:sns:us-east-1:541574621075:ODP_SFN_FAILURE", "Message.$": "$.Cause", "Subject": " AWS Step function for MAPP_COMPACTION_GLPROD7 Failed!"}, "Next": "MAPP_COMPACTION_GLPROD7_ACTIVITY"}, "MAPP_COMPACTION_GLPROD7_ACTIVITY": {"Type": "Task", "Resource": "arn:aws:states:us-east-1:541574621075:activity:COMPACTION_GLPROD7_ACTIVITY", "End": true}, "PASS MAPP_COMPACTION_GLPROD7": {"Type": "Pass", "End": true}}}, {"StartAt": "MAPP_COMPACTION_GLPROD8", "States": {"MAPP_COMPACTION_GLPROD8": {"Type": "Choice", "Choices": [{"Variable": "$.INPUT.MAPP_COMPACTION_GLPROD8", "StringEquals": "Y", "Next": "PASS MAPP_COMPACTION_GLPROD8"}], "Default": "LOAD MAPP_COMPACTION_GLPROD8"}, "LOAD MAPP_COMPACTION_GLPROD8": {"Type": "Task", "Resource": "arn:aws:states:::states:startExecution.sync", "ResultPath": "$.GLPROD8", "Parameters": {"Input": {"INPUT": {"GET_LAMBDA": "N", "SRC_NAME": "MAPP_GLPROD", "BATCH_NUMBER": "", "job_lnd_mrr_incr_refresh_ov_glprod_fnd_flex_values": "N", "job_lnd_mrr_incr_refresh_ov_glprod_fnd_flex_value_sets": "N", "job_lnd_mrr_incr_refresh_ov_glprod_fnd_flex_values_tl": "N", "job_lnd_mrr_incr_refresh_ov_glprod_gems_arel_history": "N", "job_lnd_mrr_incr_refresh_ov_glprod_hr_all_organization_units": "N", "job_lnd_mrr_full_refresh_glprod_hr_locations": "N", "job_lnd_mrr_incr_refresh_ov_glprod_gems_gpo_user_grp": "N", "job_lnd_mrr_incr_refresh_ov_glprod_mtl_txn_source_types": "N", "job_lnd_mrr_incr_refresh_ov_glprod_wsh_delivery_details": "N"}}, "StateMachineArn": "arn:aws:states:us-east-1:541574621075:stateMachine:MAPP_COMPACTION_GLPROD8"}, "Retry": [{"ErrorEquals": ["States.Timeout"], "MaxAttempts": 3, "IntervalSeconds": 60, "BackoffRate": 2}], "Catch": [{"ErrorEquals": ["States.TaskFailed"], "Next": "SNS_MAPP_COMPACTION_GLPROD8_FAILED"}], "Next": "PASS MAPP_COMPACTION_GLPROD8"}, "SNS_MAPP_COMPACTION_GLPROD8_FAILED": {"Type": "Task", "Resource": "arn:aws:states:::sns:publish", "Parameters": {"TopicArn": "arn:aws:sns:us-east-1:541574621075:ODP_SFN_FAILURE", "Message.$": "$.Cause", "Subject": " AWS Step function for MAPP_COMPACTION_GLPROD8 Failed!"}, "Next": "MAPP_COMPACTION_GLPROD8_ACTIVITY"}, "MAPP_COMPACTION_GLPROD8_ACTIVITY": {"Type": "Task", "Resource": "arn:aws:states:us-east-1:541574621075:activity:COMPACTION_GLPROD8_ACTIVITY", "End": true}, "PASS MAPP_COMPACTION_GLPROD8": {"Type": "Pass", "End": true}}}], "Catch": [{"ErrorEquals": ["States.TaskFailed"], "Next": "Insert error log into redshift"}]}, "Insert error log into redshift": {"Type": "Task", "ResultPath": "$.Redshift", "Resource": "arn:aws:states:::glue:startJobRun.sync", "Parameters": {"JobName": "job_mrr_redshift_log", "Arguments": {"--jobname": "MIRROR_COMPACTION_DAILY", "--status": "JOB ERROR"}}, "End": true}, "Completed": {"Type": "Task", "InputPath": "$.parallelResult", "Resource": "arn:aws:lambda:us-east-1:541574621075:function:sfn_output_fmt", "Next": "SNS_GLPROD_COMPACTION_SUCCESS"}, "SNS_GLPROD_COMPACTION_SUCCESS": {"Type": "Task", "InputPath": "$", "ResultPath": "$.snsResult", "Resource": "arn:aws:states:::sns:publish", "Parameters": {"TopicArn": "arn:aws:sns:us-east-1:541574621075:ODP_SFN_SUCCESS", "Message": {"Subject": "AWS Step function for COMPACTION_MAPP_GLPROD completed successfully!!"}}, "End": true}}}