{"Comment": "ci", "StartAt": "Perform dependency check", "States": {"Perform dependency check": {"Type": "Task", "Resource": "arn:aws:states:::glue:startJobRun.sync", "Parameters": {"JobName": "us-prod-daasbatchextract-dependency-checker", "Arguments": {"--STATUS_FILE_PATHS.$": "$.CONFIG.STATUS_FILE_PATHS", "--CHECK_INTERVAL_MIN.$": "$.CONFIG.CHECK_INTERVAL_MIN", "--MAX_CHECK_ATTEMPTS.$": "$.CONFIG.MAX_CHECK_ATTEMPTS"}}, "ResultPath": null, "Catch": [{"ErrorEquals": ["States.TaskFailed"], "ResultPath": "$.dependency_check_status", "Next": "Notify_Failed_Dependency_Check"}], "Next": "START ci extracts"}, "Notify_Failed_Dependency_Check": {"Type": "Task", "Resource": "arn:aws:states:::sns:publish", "Parameters": {"TopicArn.$": "$.CONFIG.FAILURE_SNS_TOPIC", "Message": "Required dependecy could not satisfy for ci", "Subject": "ci: Required dependecy could not satisfy."}, "End": true}, "START ci extracts": {"Type": "Pass", "Next": "CHECK transaction_summary_report"}, "CHECK transaction_summary_report": {"Type": "Choice", "Choices": [{"Variable": "$.SFN_INPUT.transaction_summary_report", "StringEquals": "Y", "Next": "SKIP transaction_summary_report"}], "Default": "EXTRACT transaction_summary_report"}, "EXTRACT transaction_summary_report": {"Type": "Task", "Resource": "arn:aws:states:::glue:startJobRun.sync", "Parameters": {"JobName": "us-prod-daasbatchextract", "Arguments": {"--application_name": "ci", "--extract_number": "1"}}, "ResultPath": null, "End": true}, "SKIP transaction_summary_report": {"Type": "Pass", "End": true}}}