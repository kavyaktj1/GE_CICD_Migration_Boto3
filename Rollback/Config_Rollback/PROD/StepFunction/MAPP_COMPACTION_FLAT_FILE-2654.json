{"stateMachineArn": "arn:aws:states:us-east-1:245792935030:stateMachine:MAPP_COMPACTION_FLAT_FILE", "name": "MAPP_COMPACTION_FLAT_FILE", "status": "ACTIVE", "definition": "{\n  \"StartAt\": \"START MAPP_COMPACTION_FLAT_FILE JOBS\",\n  \"States\": {\n    \"START MAPP_COMPACTION_FLAT_FILE JOBS\": {\n      \"Type\": \"Pass\",\n      \"InputPath\": \"$\",\n      \"ResultPath\": \"$\",\n      \"Next\": \"GET LAMBDA\"\n    },\n    \"GET LAMBDA\": {\n      \"Type\": \"Choice\",\n      \"Choices\": [\n        {\n          \"Variable\": \"$.INPUT.GET_LAMBDA\",\n          \"StringEquals\": \"Y\",\n          \"Next\": \"SKIP GET LAMBDA\"\n        }\n      ],\n      \"Default\": \"EXECUTE GET LAMBDA\"\n    },\n    \"EXECUTE GET LAMBDA\": {\n      \"Type\": \"Task\",\n      \"InputPath\": \"$\",\n      \"ResultPath\": \"$.INPUT.BATCH_NUMBER\",\n      \"Resource\": \"arn:aws:lambda:us-east-1:245792935030:function:ddb_get_lambda\",\n      \"Next\": \"SKIP GET LAMBDA\"\n    },\n    \"SKIP GET LAMBDA\": {\n      \"Type\": \"Pass\",\n      \"InputPath\": \"$\",\n      \"ResultPath\": \"$.SKIP_LAMBDA\",\n      \"Next\": \"StartParallel\"\n    },\n    \"StartParallel\": {\n      \"Type\": \"Parallel\",\n      \"ResultPath\": \"$.parallelResult\",\n      \"Branches\": [\n        {\n          \"StartAt\": \"MAPP_FLAT_FILE_MAPP_CONFIGURABLE_DATA\",\n          \"States\": {\n            \"MAPP_FLAT_FILE_MAPP_CONFIGURABLE_DATA\": {\n              \"Type\": \"Choice\",\n              \"Choices\": [\n                {\n                  \"Variable\": \"$.INPUT.job_lnd_mrr_full_refresh_flat_file_mapp_configurable_data\",\n                  \"StringEquals\": \"Y\",\n                  \"Next\": \"PASS MAPP_FLAT_FILE_MAPP_CONFIGURABLE_DATA\"\n                }\n              ],\n              \"Default\": \"LOAD MAPP_FLAT_FILE_MAPP_CONFIGURABLE_DATA\"\n            },\n            \"LOAD MAPP_FLAT_FILE_MAPP_CONFIGURABLE_DATA\": {\n              \"Type\": \"Task\",\n              \"ResultPath\": \"$.MAPP_FLAT_FILE_MAPP_CONFIGURABLE_DATA\",\n              \"Resource\": \"arn:aws:states:::glue:startJobRun.sync\",\n              \"Parameters\": {\n                \"JobName\": \"job_lnd_mrr_full_refresh_flat_file_mapp_configurable_data\",\n                \"Arguments\": {\n                  \"--batch_number.$\": \"$.INPUT.BATCH_NUMBER\"\n                }\n              },\n              \"Retry\": [\n                {\n                  \"ErrorEquals\": [\n                    \"States.Timeout\"\n                  ],\n                  \"MaxAttempts\": 3,\n                  \"IntervalSeconds\": 60,\n                  \"BackoffRate\": 2\n                }\n              ],\n              \"Catch\": [\n                {\n                  \"ErrorEquals\": [\n                    \"States.TaskFailed\"\n                  ],\n                  \"Next\": \"SNS_MAPP_FLAT_FILE_MAPP_CONFIGURABLE_DATA_FAILED\"\n                }\n              ],\n              \"Next\": \"PASS MAPP_FLAT_FILE_MAPP_CONFIGURABLE_DATA\"\n            },\n            \"SNS_MAPP_FLAT_FILE_MAPP_CONFIGURABLE_DATA_FAILED\": {\n              \"Type\": \"Task\",\n              \"Resource\": \"arn:aws:states:::sns:publish\",\n              \"Parameters\": {\n                \"TopicArn\": \"arn:aws:sns:us-east-1:245792935030:ODP_SFN_FAILURE\",\n                \"Message.$\": \"$.Cause\",\n                \"Subject\": \" AWS Glue job for SNS_MAPP_FLAT_FILE_MAPP_CONFIGURABLE_DATA Failed!\"\n              },\n              \"Next\": \"MAPP_FLAT_FILE_MAPP_CONFIGURABLE_DATA_ACTIVITY\"\n            },\n            \"MAPP_FLAT_FILE_MAPP_CONFIGURABLE_DATA_ACTIVITY\": {\n              \"Type\": \"Task\",\n              \"Resource\": \"arn:aws:states:us-east-1:245792935030:activity:COMPACTION_MAPP_FLAT_FILE_CONFIGURABLE_DATA_ACTIVITY\",\n              \"End\": true\n            },\n            \"PASS MAPP_FLAT_FILE_MAPP_CONFIGURABLE_DATA\": {\n              \"Type\": \"Pass\",\n              \"End\": true\n            }\n          }\n        },\n        {\n          \"StartAt\": \"MAPP_FLAT_FILE_MAPP_SPM_JRNL\",\n          \"States\": {\n            \"MAPP_FLAT_FILE_MAPP_SPM_JRNL\": {\n              \"Type\": \"Choice\",\n              \"Choices\": [\n                {\n                  \"Variable\": \"$.INPUT.job_lnd_mrr_full_refresh_flat_file_mapp_spm_jrnl\",\n                  \"StringEquals\": \"Y\",\n                  \"Next\": \"PASS MAPP_FLAT_FILE_MAPP_SPM_JRNL\"\n                }\n              ],\n              \"Default\": \"LOAD MAPP_FLAT_FILE_MAPP_SPM_JRNL\"\n            },\n            \"LOAD MAPP_FLAT_FILE_MAPP_SPM_JRNL\": {\n              \"Type\": \"Task\",\n              \"ResultPath\": \"$.MAPP_FLAT_FILE_MAPP_SPM_JRNL\",\n              \"Resource\": \"arn:aws:states:::glue:startJobRun.sync\",\n              \"Parameters\": {\n                \"JobName\": \"job_lnd_mrr_full_refresh_flat_file_mapp_spm_jrnl\",\n                \"Arguments\": {\n                  \"--batch_number.$\": \"$.INPUT.BATCH_NUMBER\"\n                }\n              },\n              \"Retry\": [\n                {\n                  \"ErrorEquals\": [\n                    \"States.Timeout\"\n                  ],\n                  \"MaxAttempts\": 3,\n                  \"IntervalSeconds\": 60,\n                  \"BackoffRate\": 2\n                }\n              ],\n              \"Catch\": [\n                {\n                  \"ErrorEquals\": [\n                    \"States.TaskFailed\"\n                  ],\n                  \"Next\": \"SNS_MAPP_FLAT_FILE_MAPP_SPM_JRNL_FAILED\"\n                }\n              ],\n              \"Next\": \"PASS MAPP_FLAT_FILE_MAPP_SPM_JRNL\"\n            },\n            \"SNS_MAPP_FLAT_FILE_MAPP_SPM_JRNL_FAILED\": {\n              \"Type\": \"Task\",\n              \"Resource\": \"arn:aws:states:::sns:publish\",\n              \"Parameters\": {\n                \"TopicArn\": \"arn:aws:sns:us-east-1:245792935030:ODP_SFN_FAILURE\",\n                \"Message.$\": \"$.Cause\",\n                \"Subject\": \" AWS Glue job for SNS_MAPP_FLAT_FILE_MAPP_SPM_JRNL Failed!\"\n              },\n              \"Next\": \"MAPP_FLAT_FILE_MAPP_SPM_JRNL_ACTIVITY\"\n            },\n            \"MAPP_FLAT_FILE_MAPP_SPM_JRNL_ACTIVITY\": {\n              \"Type\": \"Task\",\n              \"Resource\": \"arn:aws:states:us-east-1:245792935030:activity:COMPACTION_MAPP_FLAT_FILE_MAPP_SPM_JRNL_ACTIVITY\",\n              \"End\": true\n            },\n            \"PASS MAPP_FLAT_FILE_MAPP_SPM_JRNL\": {\n              \"Type\": \"Pass\",\n              \"End\": true\n            }\n          }\n        },\n        {\n          \"StartAt\": \"MAPP_FLAT_FILE_MAPP_PRT_CS_NOTES\",\n          \"States\": {\n            \"MAPP_FLAT_FILE_MAPP_PRT_CS_NOTES\": {\n              \"Type\": \"Choice\",\n              \"Choices\": [\n                {\n                  \"Variable\": \"$.INPUT.job_lnd_mrr_full_refresh_flat_file_mapp_prt_cs_notes\",\n                  \"StringEquals\": \"Y\",\n                  \"Next\": \"PASS MAPP_FLAT_FILE_MAPP_PRT_CS_NOTES\"\n                }\n              ],\n              \"Default\": \"LOAD MAPP_FLAT_FILE_MAPP_PRT_CS_NOTES\"\n            },\n            \"LOAD MAPP_FLAT_FILE_MAPP_PRT_CS_NOTES\": {\n              \"Type\": \"Task\",\n              \"ResultPath\": \"$.MAPP_FLAT_FILE_MAPP_PRT_CS_NOTES\",\n              \"Resource\": \"arn:aws:states:::glue:startJobRun.sync\",\n              \"Parameters\": {\n                \"JobName\": \"job_lnd_mrr_full_refresh_flat_file_mapp_prt_cs_notes\",\n                \"Arguments\": {\n                  \"--batch_number.$\": \"$.INPUT.BATCH_NUMBER\"\n                }\n              },\n              \"Retry\": [\n                {\n                  \"ErrorEquals\": [\n                    \"States.Timeout\"\n                  ],\n                  \"MaxAttempts\": 3,\n                  \"IntervalSeconds\": 60,\n                  \"BackoffRate\": 2\n                }\n              ],\n              \"Catch\": [\n                {\n                  \"ErrorEquals\": [\n                    \"States.TaskFailed\"\n                  ],\n                  \"Next\": \"SNS_MAPP_FLAT_FILE_MAPP_PRT_CS_NOTES_FAILED\"\n                }\n              ],\n              \"Next\": \"PASS MAPP_FLAT_FILE_MAPP_PRT_CS_NOTES\"\n            },\n            \"SNS_MAPP_FLAT_FILE_MAPP_PRT_CS_NOTES_FAILED\": {\n              \"Type\": \"Task\",\n              \"Resource\": \"arn:aws:states:::sns:publish\",\n              \"Parameters\": {\n                \"TopicArn\": \"arn:aws:sns:us-east-1:245792935030:ODP_SFN_FAILURE\",\n                \"Message.$\": \"$.Cause\",\n                \"Subject\": \" AWS Glue job for SNS_MAPP_FLAT_FILE_MAPP_PRT_CS_NOTES Failed!\"\n              },\n              \"Next\": \"MAPP_FLAT_FILE_MAPP_PRT_CS_NOTES_ACTIVITY\"\n            },\n            \"MAPP_FLAT_FILE_MAPP_PRT_CS_NOTES_ACTIVITY\": {\n              \"Type\": \"Task\",\n              \"Resource\": \"arn:aws:states:us-east-1:245792935030:activity:COMPACTION_MAPP_FLAT_FILE_PRT_CS_NOTES_ACTIVITY\",\n              \"End\": true\n            },\n            \"PASS MAPP_FLAT_FILE_MAPP_PRT_CS_NOTES\": {\n              \"Type\": \"Pass\",\n              \"End\": true\n            }\n          }\n        },\n        {\n          \"StartAt\": \"MAPP_FLAT_FILE_POLE_REGION_HIERARCHY\",\n          \"States\": {\n            \"MAPP_FLAT_FILE_POLE_REGION_HIERARCHY\": {\n              \"Type\": \"Choice\",\n              \"Choices\": [\n                {\n                  \"Variable\": \"$.INPUT.job_lnd_mrr_full_refresh_flat_file_pole_region_hierarchy_flat_file\",\n                  \"StringEquals\": \"Y\",\n                  \"Next\": \"PASS MAPP_FLAT_FILE_POLE_REGION_HIERARCHY\"\n                }\n              ],\n              \"Default\": \"LOAD MAPP_FLAT_FILE_POLE_REGION_HIERARCHY\"\n            },\n            \"LOAD MAPP_FLAT_FILE_POLE_REGION_HIERARCHY\": {\n              \"Type\": \"Task\",\n              \"ResultPath\": \"$.MAPP_FLAT_FILE_POLE_REGION_HIERARCHY\",\n              \"Resource\": \"arn:aws:states:::glue:startJobRun.sync\",\n              \"Parameters\": {\n                \"JobName\": \"job_lnd_mrr_full_refresh_flat_file_pole_region_hierarchy_flat_file\",\n                \"Arguments\": {\n                  \"--batch_number.$\": \"$.INPUT.BATCH_NUMBER\"\n                }\n              },\n              \"Retry\": [\n                {\n                  \"ErrorEquals\": [\n                    \"States.Timeout\"\n                  ],\n                  \"MaxAttempts\": 3,\n                  \"IntervalSeconds\": 60,\n                  \"BackoffRate\": 2\n                }\n              ],\n              \"Catch\": [\n                {\n                  \"ErrorEquals\": [\n                    \"States.TaskFailed\"\n                  ],\n                  \"Next\": \"SNS_MAPP_FLAT_FILE_POLE_REGION_HIERARCHY_FAILED\"\n                }\n              ],\n              \"Next\": \"PASS MAPP_FLAT_FILE_POLE_REGION_HIERARCHY\"\n            },\n            \"SNS_MAPP_FLAT_FILE_POLE_REGION_HIERARCHY_FAILED\": {\n              \"Type\": \"Task\",\n              \"Resource\": \"arn:aws:states:::sns:publish\",\n              \"Parameters\": {\n                \"TopicArn\": \"arn:aws:sns:us-east-1:245792935030:ODP_SFN_FAILURE\",\n                \"Message.$\": \"$.Cause\",\n                \"Subject\": \" AWS Glue job for SNS_MAPP_FLAT_FILE_POLE_REGION_HIERARCHY Failed!\"\n              },\n              \"Next\": \"MAPP_FLAT_FILE_POLE_REGION_HIERARCHY_ACTIVITY\"\n            },\n            \"MAPP_FLAT_FILE_POLE_REGION_HIERARCHY_ACTIVITY\": {\n              \"Type\": \"Task\",\n              \"Resource\": \"arn:aws:states:us-east-1:245792935030:activity:COMPACTION_MAPP_FLAT_FILE_POLE_REGION_HIERARCHY_ACTIVITY\",\n              \"End\": true\n            },\n            \"PASS MAPP_FLAT_FILE_POLE_REGION_HIERARCHY\": {\n              \"Type\": \"Pass\",\n              \"End\": true\n            }\n          }\n        },\n        {\n          \"StartAt\": \"MAPP_FLAT_FILE_SPOTFIRE_TARGET_CUST_REG\",\n          \"States\": {\n            \"MAPP_FLAT_FILE_SPOTFIRE_TARGET_CUST_REG\": {\n              \"Type\": \"Choice\",\n              \"Choices\": [\n                {\n                  \"Variable\": \"$.INPUT.job_lnd_mrr_full_refresh_flat_file_spotfire_target_cust_reg_flat_file\",\n                  \"StringEquals\": \"Y\",\n                  \"Next\": \"PASS MAPP_FLAT_FILE_SPOTFIRE_TARGET_CUST_REG\"\n                }\n              ],\n              \"Default\": \"LOAD MAPP_FLAT_FILE_SPOTFIRE_TARGET_CUST_REG\"\n            },\n            \"LOAD MAPP_FLAT_FILE_SPOTFIRE_TARGET_CUST_REG\": {\n              \"Type\": \"Task\",\n              \"ResultPath\": \"$.MAPP_FLAT_FILE_SPOTFIRE_TARGET_CUST_REG\",\n              \"Resource\": \"arn:aws:states:::glue:startJobRun.sync\",\n              \"Parameters\": {\n                \"JobName\": \"job_lnd_mrr_full_refresh_flat_file_spotfire_target_cust_reg_flat_file\",\n                \"Arguments\": {\n                  \"--batch_number.$\": \"$.INPUT.BATCH_NUMBER\"\n                }\n              },\n              \"Retry\": [\n                {\n                  \"ErrorEquals\": [\n                    \"States.Timeout\"\n                  ],\n                  \"MaxAttempts\": 3,\n                  \"IntervalSeconds\": 60,\n                  \"BackoffRate\": 2\n                }\n              ],\n              \"Catch\": [\n                {\n                  \"ErrorEquals\": [\n                    \"States.TaskFailed\"\n                  ],\n                  \"Next\": \"SNS_MAPP_FLAT_FILE_SPOTFIRE_TARGET_CUST_REG_FAILED\"\n                }\n              ],\n              \"Next\": \"PASS MAPP_FLAT_FILE_SPOTFIRE_TARGET_CUST_REG\"\n            },\n            \"SNS_MAPP_FLAT_FILE_SPOTFIRE_TARGET_CUST_REG_FAILED\": {\n              \"Type\": \"Task\",\n              \"Resource\": \"arn:aws:states:::sns:publish\",\n              \"Parameters\": {\n                \"TopicArn\": \"arn:aws:sns:us-east-1:245792935030:ODP_SFN_FAILURE\",\n                \"Message.$\": \"$.Cause\",\n                \"Subject\": \" AWS Glue job for SNS_MAPP_FLAT_FILE_SPOTFIRE_TARGET_CUST_REG Failed!\"\n              },\n              \"Next\": \"MAPP_FLAT_FILE_SPOTFIRE_TARGET_CUST_REG_ACTIVITY\"\n            },\n            \"MAPP_FLAT_FILE_SPOTFIRE_TARGET_CUST_REG_ACTIVITY\": {\n              \"Type\": \"Task\",\n              \"Resource\": \"arn:aws:states:us-east-1:245792935030:activity:COMPACTION_MAPP_FLAT_FILE_SPOTFIRE_TARGET_CUST_REG_ACTIVITY\",\n              \"End\": true\n            },\n            \"PASS MAPP_FLAT_FILE_SPOTFIRE_TARGET_CUST_REG\": {\n              \"Type\": \"Pass\",\n              \"End\": true\n            }\n          }\n        },\n        {\n          \"StartAt\": \"MAPP_FLAT_FILE_SPOTFIRE_TARGET_SRC_POLE\",\n          \"States\": {\n            \"MAPP_FLAT_FILE_SPOTFIRE_TARGET_SRC_POLE\": {\n              \"Type\": \"Choice\",\n              \"Choices\": [\n                {\n                  \"Variable\": \"$.INPUT.job_lnd_mrr_full_refresh_flat_file_spotfire_target_src_pole_flat_file\",\n                  \"StringEquals\": \"Y\",\n                  \"Next\": \"PASS MAPP_FLAT_FILE_SPOTFIRE_TARGET_SRC_POLE\"\n                }\n              ],\n              \"Default\": \"LOAD MAPP_FLAT_FILE_SPOTFIRE_TARGET_SRC_POLE\"\n            },\n            \"LOAD MAPP_FLAT_FILE_SPOTFIRE_TARGET_SRC_POLE\": {\n              \"Type\": \"Task\",\n              \"ResultPath\": \"$.MAPP_FLAT_FILE_SPOTFIRE_TARGET_SRC_POLE\",\n              \"Resource\": \"arn:aws:states:::glue:startJobRun.sync\",\n              \"Parameters\": {\n                \"JobName\": \"job_lnd_mrr_full_refresh_flat_file_spotfire_target_src_pole_flat_file\",\n                \"Arguments\": {\n                  \"--batch_number.$\": \"$.INPUT.BATCH_NUMBER\"\n                }\n              },\n              \"Retry\": [\n                {\n                  \"ErrorEquals\": [\n                    \"States.Timeout\"\n                  ],\n                  \"MaxAttempts\": 3,\n                  \"IntervalSeconds\": 60,\n                  \"BackoffRate\": 2\n                }\n              ],\n              \"Catch\": [\n                {\n                  \"ErrorEquals\": [\n                    \"States.TaskFailed\"\n                  ],\n                  \"Next\": \"SNS_MAPP_FLAT_FILE_SPOTFIRE_TARGET_SRC_POLE_FAILED\"\n                }\n              ],\n              \"Next\": \"PASS MAPP_FLAT_FILE_SPOTFIRE_TARGET_SRC_POLE\"\n            },\n            \"SNS_MAPP_FLAT_FILE_SPOTFIRE_TARGET_SRC_POLE_FAILED\": {\n              \"Type\": \"Task\",\n              \"Resource\": \"arn:aws:states:::sns:publish\",\n              \"Parameters\": {\n                \"TopicArn\": \"arn:aws:sns:us-east-1:245792935030:ODP_SFN_FAILURE\",\n                \"Message.$\": \"$.Cause\",\n                \"Subject\": \" AWS Glue job for SNS_MAPP_FLAT_FILE_SPOTFIRE_TARGET_SRC_POLE Failed!\"\n              },\n              \"Next\": \"MAPP_FLAT_FILE_SPOTFIRE_TARGET_SRC_POLE_ACTIVITY\"\n            },\n            \"MAPP_FLAT_FILE_SPOTFIRE_TARGET_SRC_POLE_ACTIVITY\": {\n              \"Type\": \"Task\",\n              \"Resource\": \"arn:aws:states:us-east-1:245792935030:activity:COMPACTION_MAPP_FLAT_FILE_SPOTFIRE_TARGET_SRC_POLE_ACTIVITY\",\n              \"End\": true\n            },\n            \"PASS MAPP_FLAT_FILE_SPOTFIRE_TARGET_SRC_POLE\": {\n              \"Type\": \"Pass\",\n              \"End\": true\n            }\n          }\n        },\n        {\n          \"StartAt\": \"MAPP_FLAT_FILE_TECHNICAL_OBSOLETE_REPORT\",\n          \"States\": {\n            \"MAPP_FLAT_FILE_TECHNICAL_OBSOLETE_REPORT\": {\n              \"Type\": \"Choice\",\n              \"Choices\": [\n                {\n                  \"Variable\": \"$.INPUT.job_lnd_mrr_full_refresh_flat_file_technical_obsolete_report\",\n                  \"StringEquals\": \"Y\",\n                  \"Next\": \"PASS MAPP_FLAT_FILE_TECHNICAL_OBSOLETE_REPORT\"\n                }\n              ],\n              \"Default\": \"LOAD MAPP_FLAT_FILE_TECHNICAL_OBSOLETE_REPORT\"\n            },\n            \"LOAD MAPP_FLAT_FILE_TECHNICAL_OBSOLETE_REPORT\": {\n              \"Type\": \"Task\",\n              \"ResultPath\": \"$.MAPP_FLAT_FILE_TECHNICAL_OBSOLETE_REPORT\",\n              \"Resource\": \"arn:aws:states:::glue:startJobRun.sync\",\n              \"Parameters\": {\n                \"JobName\": \"job_lnd_mrr_full_refresh_flat_file_technical_obsolete_report\",\n                \"Arguments\": {\n                  \"--batch_number.$\": \"$.INPUT.BATCH_NUMBER\"\n                }\n              },\n              \"Retry\": [\n                {\n                  \"ErrorEquals\": [\n                    \"States.Timeout\"\n                  ],\n                  \"MaxAttempts\": 3,\n                  \"IntervalSeconds\": 60,\n                  \"BackoffRate\": 2\n                }\n              ],\n              \"Catch\": [\n                {\n                  \"ErrorEquals\": [\n                    \"States.TaskFailed\"\n                  ],\n                  \"Next\": \"SNS_MAPP_FLAT_FILE_TECHNICAL_OBSOLETE_REPORT_FAILED\"\n                }\n              ],\n              \"Next\": \"PASS MAPP_FLAT_FILE_TECHNICAL_OBSOLETE_REPORT\"\n            },\n            \"SNS_MAPP_FLAT_FILE_TECHNICAL_OBSOLETE_REPORT_FAILED\": {\n              \"Type\": \"Task\",\n              \"Resource\": \"arn:aws:states:::sns:publish\",\n              \"Parameters\": {\n                \"TopicArn\": \"arn:aws:sns:us-east-1:245792935030:ODP_SFN_FAILURE\",\n                \"Message.$\": \"$.Cause\",\n                \"Subject\": \" AWS Glue job for SNS_MAPP_FLAT_FILE_TECHNICAL_OBSOLETE_REPORT Failed!\"\n              },\n              \"Next\": \"MAPP_FLAT_FILE_TECHNICAL_OBSOLETE_REPORT_ACTIVITY\"\n            },\n            \"MAPP_FLAT_FILE_TECHNICAL_OBSOLETE_REPORT_ACTIVITY\": {\n              \"Type\": \"Task\",\n              \"Resource\": \"arn:aws:states:us-east-1:245792935030:activity:COMPACTION_MAPP_FLAT_FILE_TECHNICAL_OBSOLETE_REPORT_ACTIVITY\",\n              \"End\": true\n            },\n            \"PASS MAPP_FLAT_FILE_TECHNICAL_OBSOLETE_REPORT\": {\n              \"Type\": \"Pass\",\n              \"End\": true\n            }\n          }\n        },\n        {\n          \"StartAt\": \"MAPP_FLAT_FILE_PRT_PART_VENDOR\",\n          \"States\": {\n            \"MAPP_FLAT_FILE_PRT_PART_VENDOR\": {\n              \"Type\": \"Choice\",\n              \"Choices\": [\n                {\n                  \"Variable\": \"$.INPUT.job_lnd_mrr_full_refresh_flat_file_prt_part_vendor_flat_file\",\n                  \"StringEquals\": \"Y\",\n                  \"Next\": \"PASS MAPP_FLAT_FILE_PRT_PART_VENDOR\"\n                }\n              ],\n              \"Default\": \"LOAD MAPP_FLAT_FILE_PRT_PART_VENDOR\"\n            },\n            \"LOAD MAPP_FLAT_FILE_PRT_PART_VENDOR\": {\n              \"Type\": \"Task\",\n              \"ResultPath\": \"$.MAPP_FLAT_FILE_PRT_PART_VENDOR\",\n              \"Resource\": \"arn:aws:states:::glue:startJobRun.sync\",\n              \"Parameters\": {\n                \"JobName\": \"job_lnd_mrr_full_refresh_flat_file_prt_part_vendor_flat_file\",\n                \"Arguments\": {\n                  \"--batch_number.$\": \"$.INPUT.BATCH_NUMBER\"\n                }\n              },\n              \"Retry\": [\n                {\n                  \"ErrorEquals\": [\n                    \"States.Timeout\"\n                  ],\n                  \"MaxAttempts\": 3,\n                  \"IntervalSeconds\": 60,\n                  \"BackoffRate\": 2\n                }\n              ],\n              \"Catch\": [\n                {\n                  \"ErrorEquals\": [\n                    \"States.TaskFailed\"\n                  ],\n                  \"Next\": \"SNS_MAPP_FLAT_FILE_PRT_PART_VENDOR_FAILED\"\n                }\n              ],\n              \"Next\": \"PASS MAPP_FLAT_FILE_PRT_PART_VENDOR\"\n            },\n            \"SNS_MAPP_FLAT_FILE_PRT_PART_VENDOR_FAILED\": {\n              \"Type\": \"Task\",\n              \"Resource\": \"arn:aws:states:::sns:publish\",\n              \"Parameters\": {\n                \"TopicArn\": \"arn:aws:sns:us-east-1:245792935030:ODP_SFN_FAILURE\",\n                \"Message.$\": \"$.Cause\",\n                \"Subject\": \" AWS Glue job for SNS_MAPP_FLAT_FILE_PRT_PART_VENDOR Failed!\"\n              },\n              \"Next\": \"MAPP_FLAT_FILE_PRT_PART_VENDOR_ACTIVITY\"\n            },\n            \"MAPP_FLAT_FILE_PRT_PART_VENDOR_ACTIVITY\": {\n              \"Type\": \"Task\",\n              \"Resource\": \"arn:aws:states:us-east-1:245792935030:activity:COMPACTION_MAPP_FLAT_FILE_PRT_PART_VENDOR_ACTIVITY\",\n              \"End\": true\n            },\n            \"PASS MAPP_FLAT_FILE_PRT_PART_VENDOR\": {\n              \"Type\": \"Pass\",\n              \"End\": true\n            }\n          }\n        },\n        {\n          \"StartAt\": \"MAPP_FLAT_FILE_PRT_SMR_VENDOR\",\n          \"States\": {\n            \"MAPP_FLAT_FILE_PRT_SMR_VENDOR\": {\n              \"Type\": \"Choice\",\n              \"Choices\": [\n                {\n                  \"Variable\": \"$.INPUT.job_lnd_mrr_full_refresh_flat_file_prt_smr_vendor_flat_file\",\n                  \"StringEquals\": \"Y\",\n                  \"Next\": \"PASS MAPP_FLAT_FILE_PRT_SMR_VENDOR\"\n                }\n              ],\n              \"Default\": \"LOAD MAPP_FLAT_FILE_PRT_SMR_VENDOR\"\n            },\n            \"LOAD MAPP_FLAT_FILE_PRT_SMR_VENDOR\": {\n              \"Type\": \"Task\",\n              \"ResultPath\": \"$.MAPP_FLAT_FILE_PRT_SMR_VENDOR\",\n              \"Resource\": \"arn:aws:states:::glue:startJobRun.sync\",\n              \"Parameters\": {\n                \"JobName\": \"job_lnd_mrr_full_refresh_flat_file_prt_smr_vendor_flat_file\",\n                \"Arguments\": {\n                  \"--batch_number.$\": \"$.INPUT.BATCH_NUMBER\"\n                }\n              },\n              \"Retry\": [\n                {\n                  \"ErrorEquals\": [\n                    \"States.Timeout\"\n                  ],\n                  \"MaxAttempts\": 3,\n                  \"IntervalSeconds\": 60,\n                  \"BackoffRate\": 2\n                }\n              ],\n              \"Catch\": [\n                {\n                  \"ErrorEquals\": [\n                    \"States.TaskFailed\"\n                  ],\n                  \"Next\": \"SNS_MAPP_FLAT_FILE_PRT_SMR_VENDOR_FAILED\"\n                }\n              ],\n              \"Next\": \"PASS MAPP_FLAT_FILE_PRT_SMR_VENDOR\"\n            },\n            \"SNS_MAPP_FLAT_FILE_PRT_SMR_VENDOR_FAILED\": {\n              \"Type\": \"Task\",\n              \"Resource\": \"arn:aws:states:::sns:publish\",\n              \"Parameters\": {\n                \"TopicArn\": \"arn:aws:sns:us-east-1:245792935030:ODP_SFN_FAILURE\",\n                \"Message.$\": \"$.Cause\",\n                \"Subject\": \" AWS Glue job for SNS_MAPP_FLAT_FILE_PRT_SMR_VENDOR Failed!\"\n              },\n              \"Next\": \"MAPP_FLAT_FILE_PRT_SMR_VENDOR_ACTIVITY\"\n            },\n            \"MAPP_FLAT_FILE_PRT_SMR_VENDOR_ACTIVITY\": {\n              \"Type\": \"Task\",\n              \"Resource\": \"arn:aws:states:us-east-1:245792935030:activity:COMPACTION_MAPP_FLAT_FILE_PRT_SMR_VENDOR_ACTIVITY\",\n              \"End\": true\n            },\n            \"PASS MAPP_FLAT_FILE_PRT_SMR_VENDOR\": {\n              \"Type\": \"Pass\",\n              \"End\": true\n            }\n          }\n        }\n      ],\n      \"Catch\": [\n        {\n          \"ErrorEquals\": [\n            \"States.TaskFailed\"\n          ],\n          \"Next\": \"Insert error log into redshift\"\n        }\n      ],\n      \"Next\": \"Completed\"\n    },\n    \"Insert error log into redshift\": {\n      \"Type\": \"Task\",\n      \"ResultPath\": \"$.Redshift\",\n      \"Resource\": \"arn:aws:states:::glue:startJobRun.sync\",\n      \"Parameters\": {\n        \"JobName\": \"job_mrr_redshift_log\",\n        \"Arguments\": {\n          \"--jobname\": \"MIRROR_COMPACTION_DAILY\",\n          \"--status\": \"JOB ERROR\"\n        }\n      },\n      \"End\": true\n    },\n    \"Completed\": {\n      \"Type\": \"Pass\",\n      \"InputPath\": \"$.SKIP_LAMBDA\",\n      \"Next\": \"SNS_MAPP_COMPACTION_FLAT_FILE_SUCCESS\"\n    },\n    \"SNS_MAPP_COMPACTION_FLAT_FILE_SUCCESS\": {\n      \"Type\": \"Task\",\n      \"InputPath\": \"$\",\n      \"ResultPath\": \"$.snsResult\",\n      \"Resource\": \"arn:aws:states:::sns:publish\",\n      \"Parameters\": {\n        \"TopicArn\": \"arn:aws:sns:us-east-1:245792935030:ODP_SFN_SUCCESS\",\n        \"Message\": {\n          \"Subject\": \"AWS Step function for MAPP_COMPACTION_FLAT_FILE completed successfully!!\"\n        }\n      },\n      \"End\": true\n    }\n  }\n}", "roleArn": "arn:aws:iam::245792935030:role/ODP-US-Prod-AWSServiceRole", "type": "STANDARD", "creationDate": "2020-07-02 07:03:52.005000+00:00", "loggingConfiguration": {"level": "ALL", "includeExecutionData": true, "destinations": [{"cloudWatchLogsLogGroup": {"logGroupArn": "arn:aws:logs:us-east-1:245792935030:log-group:/aws/states/MAPP_COMPACTION_FLAT_FILE-Logs:*"}}]}, "ResponseMetadata": {"RequestId": "fa9b2e5a-e9fd-4fd2-8d1d-f29f324de576", "HTTPStatusCode": 200, "HTTPHeaders": {"x-amzn-requestid": "fa9b2e5a-e9fd-4fd2-8d1d-f29f324de576", "content-type": "application/x-amz-json-1.0", "content-length": "27697"}, "RetryAttempts": 0}}