{"StartAt": "REFRESH SPOTFIRE COMBINED ORDERS", "States": {"REFRESH SPOTFIRE COMBINED ORDERS": {"Type": "Task", "InputPath": "$", "ResultPath": "$", "Parameters": {"REPORT_LOCATION": "/Service Data Analytics/Parts Analytics/Release 2/Analysis/MVP Gap Release/BO Segmentation-Combined Orders"}, "Resource": "arn:aws:lambda:us-east-1:541574621075:function:odp-spotfire-refresh", "Retry": [{"ErrorEquals": ["States.Timeout"], "MaxAttempts": 3, "IntervalSeconds": 5, "BackoffRate": 2}], "Next": "REFRESH SPOTFIRE DEMAND ORDERS", "Catch": [{"ErrorEquals": ["States.TaskFailed"], "Next": "SNS FAILED COMBINED ORDERS LAMBDA"}]}, "REFRESH SPOTFIRE DEMAND ORDERS": {"Type": "Task", "InputPath": "$", "ResultPath": "$", "Parameters": {"REPORT_LOCATION": "/Service Data Analytics/Parts Analytics/Release 2/Analysis/MVP Gap Release/BO Segmentation-Customer Demand Orders"}, "Resource": "arn:aws:lambda:us-east-1:541574621075:function:odp-spotfire-refresh", "Retry": [{"ErrorEquals": ["States.Timeout"], "MaxAttempts": 3, "IntervalSeconds": 5, "BackoffRate": 2}], "Next": "UPDATE DYNAMODB FOR ORDER_FLAG", "Catch": [{"ErrorEquals": ["States.TaskFailed"], "Next": "SNS FAILED DEMAND ORDERS LAMBDA"}]}, "UPDATE DYNAMODB FOR ORDER_FLAG": {"Type": "Task", "Parameters": {"DDB_KEY_TO_UPDATE": "order_finished_flag", "DDB_FLAG": "Y"}, "Resource": "arn:aws:lambda:us-east-1:541574621075:function:mapp_daily_run_schedule_update", "End": true}, "SNS FAILED COMBINED ORDERS LAMBDA": {"Type": "Task", "Resource": "arn:aws:states:::sns:publish", "Parameters": {"TopicArn": "arn:aws:sns:us-east-1:541574621075:ODP_SFN_FAILURE", "Message.$": "$.Cause", "Subject": "Spotfire refresh failed for COMBINED ORDERS"}, "Next": "REFRESH SPOTFIRE DEMAND ORDERS"}, "SNS FAILED DEMAND ORDERS LAMBDA": {"Type": "Task", "Resource": "arn:aws:states:::sns:publish", "Parameters": {"TopicArn": "arn:aws:sns:us-east-1:541574621075:ODP_SFN_FAILURE", "Message.$": "$.Cause", "Subject": "Spotfire refresh failed for COMBINED ORDERS"}, "Next": "UPDATE DYNAMODB FOR ORDER_FLAG"}}}