{"stateMachineArn": "arn:aws:states:us-east-1:245792935030:stateMachine:CD_ENTITY_ONE_TIME_CAPS_CARES_SCHEDULE", "name": "CD_ENTITY_ONE_TIME_CAPS_CARES_SCHEDULE", "status": "ACTIVE", "definition": "{\n  \"StartAt\": \"START ONE TIME CAPS/CARES SCHEDULE\",\n  \"States\": {\n    \"START ONE TIME CAPS/CARES SCHEDULE\": {\n      \"Type\": \"Pass\",\n      \"Next\": \"CAPS_GEO_ADDR_D\"\n    },\n    \"CAPS_GEO_ADDR_D\": {\n      \"Type\": \"Choice\",\n      \"Choices\": [\n        {\n          \"Variable\": \"$.INPUT.CAPS_GEO_ADDR_D\",\n          \"StringEquals\": \"Y\",\n          \"Next\": \"PASS CAPS_GEO_ADDR_D\"\n        }\n      ],\n      \"Default\": \"LOAD CAPS_GEO_ADDR_D\"\n    },\n    \"LOAD CAPS_GEO_ADDR_D\": {\n      \"Type\": \"Task\",\n      \"InputPath\": \"$\",\n      \"ResultPath\": \"$.CAPS_GEO_ADDR_D\",\n      \"Resource\": \"arn:aws:states:::glue:startJobRun.sync\",\n      \"Parameters\": {\n        \"JobName\": \"job_mrr_otl_rs_proc\",\n        \"Arguments\": {\n          \"--rs_proc_name\": \"hdl_services_sp.sp_geo_addr_ds_caps\",\n          \"--s3path\": \"s3://odp-us-prod-ent-raw/servicesuit_common/entity/caps/csv/datafabric_cfd_dea/geo_addr_d/year=2020/month=06/day=07/\",\n          \"--aws_secret\": \"us-prod-odp-entity-cds-fsso\",\n          \"--region\": \"us-east-1\",\n          \"--arn\": \"arn:aws:iam::245792935030:role/ODP-US-Prod-AWSServiceRole\"\n        }\n      },\n      \"Retry\": [\n        {\n          \"ErrorEquals\": [\n            \"States.Timeout\"\n          ],\n          \"MaxAttempts\": 3,\n          \"IntervalSeconds\": 60,\n          \"BackoffRate\": 2\n        }\n      ],\n      \"Catch\": [\n        {\n          \"ErrorEquals\": [\n            \"States.TaskFailed\"\n          ],\n          \"Next\": \"SNS_CAPS_ENTITY_FAILED\"\n        }\n      ],\n      \"Next\": \"PASS CAPS_GEO_ADDR_D\"\n    },\n    \"SNS_CAPS_ENTITY_FAILED\": {\n      \"Type\": \"Task\",\n      \"Resource\": \"arn:aws:states:::sns:publish\",\n      \"Parameters\": {\n        \"TopicArn\": \"arn:aws:sns:us-east-1:245792935030:ODP_SFN_FAILURE\",\n        \"Message.$\": \"$.Cause\",\n        \"Subject\": \"AWS Glue Shell job for CAPS_ENTITY Failed!\"\n      },\n      \"End\": false\n    },\n    \"PASS CAPS_GEO_ADDR_D\": {\n      \"Type\": \"Pass\",\n      \"Next\": \"CAPS_PRT_PERSN_D\"\n    },\n    \"CAPS_PRT_PERSN_D\": {\n      \"Type\": \"Choice\",\n      \"Choices\": [\n        {\n          \"Variable\": \"$.INPUT.CAPS_PRT_PERSN_D\",\n          \"StringEquals\": \"Y\",\n          \"Next\": \"PASS CAPS_PRT_PERSN_D\"\n        }\n      ],\n      \"Default\": \"LOAD CAPS_PRT_PERSN_D\"\n    },\n    \"LOAD CAPS_PRT_PERSN_D\": {\n      \"Type\": \"Task\",\n      \"InputPath\": \"$\",\n      \"ResultPath\": \"$.CAPS_PRT_PERSN_D\",\n      \"Resource\": \"arn:aws:states:::glue:startJobRun.sync\",\n      \"Parameters\": {\n        \"JobName\": \"job_mrr_otl_rs_proc\",\n        \"Arguments\": {\n          \"--rs_proc_name\": \"hdl_services_sp.sp_prt_persn_ds_caps\",\n          \"--s3path\": \"s3://odp-us-prod-ent-raw/servicesuit_common/entity/caps/datafabric_cfd_dea/prt_persn_d/year=2020/month=06/day=05/\",\n          \"--aws_secret\": \"us-prod-odp-entity-cds-fsso\",\n          \"--region\": \"us-east-1\",\n          \"--arn\": \"arn:aws:iam::245792935030:role/ODP-US-Prod-AWSServiceRole\"\n        }\n      },\n      \"Retry\": [\n        {\n          \"ErrorEquals\": [\n            \"States.Timeout\"\n          ],\n          \"MaxAttempts\": 3,\n          \"IntervalSeconds\": 60,\n          \"BackoffRate\": 2\n        }\n      ],\n      \"Catch\": [\n        {\n          \"ErrorEquals\": [\n            \"States.TaskFailed\"\n          ],\n          \"Next\": \"SNS_CAPS_ENTITY_FAILED\"\n        }\n      ],\n      \"Next\": \"PASS CAPS_PRT_PERSN_D\"\n    },\n    \"PASS CAPS_PRT_PERSN_D\": {\n      \"Type\": \"Pass\",\n      \"Next\": \"CAPS_PRT_CUST_D\"\n    },\n    \"CAPS_PRT_CUST_D\": {\n      \"Type\": \"Choice\",\n      \"Choices\": [\n        {\n          \"Variable\": \"$.INPUT.CAPS_PRT_CUST_D\",\n          \"StringEquals\": \"Y\",\n          \"Next\": \"PASS CAPS_PRT_CUST_D\"\n        }\n      ],\n      \"Default\": \"LOAD CAPS_PRT_CUST_D\"\n    },\n    \"LOAD CAPS_PRT_CUST_D\": {\n      \"Type\": \"Task\",\n      \"InputPath\": \"$\",\n      \"ResultPath\": \"$.CAPS_PRT_CUST_D\",\n      \"Resource\": \"arn:aws:states:::glue:startJobRun.sync\",\n      \"Parameters\": {\n        \"JobName\": \"job_mrr_otl_rs_proc\",\n        \"Arguments\": {\n          \"--rs_proc_name\": \"hdl_services_sp.sp_prt_cust_ds_caps\",\n          \"--s3path\": \"s3://odp-us-prod-ent-raw/servicesuit_common/entity/caps/csv/datafabric_cfd_dea/prt_cust_d/year=2020/month=06/day=07/\",\n          \"--aws_secret\": \"us-prod-odp-entity-cds-fsso\",\n          \"--region\": \"us-east-1\",\n          \"--arn\": \"arn:aws:iam::245792935030:role/ODP-US-Prod-AWSServiceRole\"\n        }\n      },\n      \"Retry\": [\n        {\n          \"ErrorEquals\": [\n            \"States.Timeout\"\n          ],\n          \"MaxAttempts\": 3,\n          \"IntervalSeconds\": 60,\n          \"BackoffRate\": 2\n        }\n      ],\n      \"Catch\": [\n        {\n          \"ErrorEquals\": [\n            \"States.TaskFailed\"\n          ],\n          \"Next\": \"SNS_CAPS_ENTITY_FAILED\"\n        }\n      ],\n      \"Next\": \"PASS CAPS_PRT_CUST_D\"\n    },\n    \"PASS CAPS_PRT_CUST_D\": {\n      \"Type\": \"Pass\",\n      \"Next\": \"CAPS_PRD_MAIN_D\"\n    },\n    \"CAPS_PRD_MAIN_D\": {\n      \"Type\": \"Choice\",\n      \"Choices\": [\n        {\n          \"Variable\": \"$.INPUT.CAPS_PRD_MAIN_D\",\n          \"StringEquals\": \"Y\",\n          \"Next\": \"PASS CAPS_PRD_MAIN_D\"\n        }\n      ],\n      \"Default\": \"LOAD CAPS_PRD_MAIN_D\"\n    },\n    \"LOAD CAPS_PRD_MAIN_D\": {\n      \"Type\": \"Task\",\n      \"InputPath\": \"$\",\n      \"ResultPath\": \"$.CAPS_PRD_MAIN_D\",\n      \"Resource\": \"arn:aws:states:::glue:startJobRun.sync\",\n      \"Parameters\": {\n        \"JobName\": \"job_mrr_otl_rs_proc\",\n        \"Arguments\": {\n          \"--rs_proc_name\": \"hdl_services_sp.sp_prd_main_ds_caps\",\n          \"--s3path\": \"s3://odp-us-prod-ent-raw/servicesuit_common/entity/caps/datafabric_cfd_dea/prd_main_d/year=2020/month=06/day=05/\",\n          \"--aws_secret\": \"us-prod-odp-entity-cds-fsso\",\n          \"--region\": \"us-east-1\",\n          \"--arn\": \"arn:aws:iam::245792935030:role/ODP-US-Prod-AWSServiceRole\"\n        }\n      },\n      \"Retry\": [\n        {\n          \"ErrorEquals\": [\n            \"States.Timeout\"\n          ],\n          \"MaxAttempts\": 3,\n          \"IntervalSeconds\": 60,\n          \"BackoffRate\": 2\n        }\n      ],\n      \"Catch\": [\n        {\n          \"ErrorEquals\": [\n            \"States.TaskFailed\"\n          ],\n          \"Next\": \"SNS_CAPS_ENTITY_FAILED\"\n        }\n      ],\n      \"Next\": \"PASS CAPS_PRD_MAIN_D\"\n    },\n    \"PASS CAPS_PRD_MAIN_D\": {\n      \"Type\": \"Pass\",\n      \"Next\": \"CARES_GEO_ADDR_D\"\n    },\n    \"CARES_GEO_ADDR_D\": {\n      \"Type\": \"Choice\",\n      \"Choices\": [\n        {\n          \"Variable\": \"$.INPUT.CARES_GEO_ADDR_D\",\n          \"StringEquals\": \"Y\",\n          \"Next\": \"PASS CARES_GEO_ADDR_D\"\n        }\n      ],\n      \"Default\": \"LOAD CARES_GEO_ADDR_D\"\n    },\n    \"LOAD CARES_GEO_ADDR_D\": {\n      \"Type\": \"Task\",\n      \"InputPath\": \"$\",\n      \"ResultPath\": \"$.CARES_GEO_ADDR_D\",\n      \"Resource\": \"arn:aws:states:::glue:startJobRun.sync\",\n      \"Parameters\": {\n        \"JobName\": \"job_mrr_otl_rs_proc\",\n        \"Arguments\": {\n          \"--rs_proc_name\": \"hdl_services_sp.sp_geo_addr_ds_cares\",\n          \"--s3path\": \"s3://odp-us-prod-ent-raw/servicesuit_common/entity/cares/datafabric_cfd_dea/geo_addr_d/year=2020/month=06/day=05/\",\n          \"--aws_secret\": \"us-prod-odp-entity-cds-fsso\",\n          \"--region\": \"us-east-1\",\n          \"--arn\": \"arn:aws:iam::245792935030:role/ODP-US-Prod-AWSServiceRole\"\n        }\n      },\n      \"Retry\": [\n        {\n          \"ErrorEquals\": [\n            \"States.Timeout\"\n          ],\n          \"MaxAttempts\": 3,\n          \"IntervalSeconds\": 60,\n          \"BackoffRate\": 2\n        }\n      ],\n      \"Catch\": [\n        {\n          \"ErrorEquals\": [\n            \"States.TaskFailed\"\n          ],\n          \"Next\": \"SNS_CARES_ENTITY_FAILED\"\n        }\n      ],\n      \"Next\": \"PASS CARES_GEO_ADDR_D\"\n    },\n    \"SNS_CARES_ENTITY_FAILED\": {\n      \"Type\": \"Task\",\n      \"Resource\": \"arn:aws:states:::sns:publish\",\n      \"Parameters\": {\n        \"TopicArn\": \"arn:aws:sns:us-east-1:245792935030:ODP_SFN_FAILURE\",\n        \"Message.$\": \"$.Cause\",\n        \"Subject\": \"AWS Glue Shell job for CARES_ENTITY Failed!\"\n      },\n      \"End\": false\n    },\n    \"PASS CARES_GEO_ADDR_D\": {\n      \"Type\": \"Pass\",\n      \"Next\": \"CARES_PRD_MAIN_D\"\n    },\n    \"CARES_PRD_MAIN_D\": {\n      \"Type\": \"Choice\",\n      \"Choices\": [\n        {\n          \"Variable\": \"$.INPUT.CARES_PRD_MAIN_D\",\n          \"StringEquals\": \"Y\",\n          \"Next\": \"PASS CARES_PRD_MAIN_D\"\n        }\n      ],\n      \"Default\": \"LOAD CARES_PRD_MAIN_D\"\n    },\n    \"LOAD CARES_PRD_MAIN_D\": {\n      \"Type\": \"Task\",\n      \"InputPath\": \"$\",\n      \"ResultPath\": \"$.CARES_PRD_MAIN_D\",\n      \"Resource\": \"arn:aws:states:::glue:startJobRun.sync\",\n      \"Parameters\": {\n        \"JobName\": \"job_mrr_otl_rs_proc\",\n        \"Arguments\": {\n          \"--rs_proc_name\": \"hdl_services_sp.sp_prd_main_ds_cares\",\n          \"--s3path\": \"s3://odp-us-prod-ent-raw/servicesuit_common/entity/cares/datafabric_cfd_dea/prd_main_d/year=2020/month=06/day=05/\",\n          \"--aws_secret\": \"us-prod-odp-entity-cds-fsso\",\n          \"--region\": \"us-east-1\",\n          \"--arn\": \"arn:aws:iam::245792935030:role/ODP-US-Prod-AWSServiceRole\"\n        }\n      },\n      \"Retry\": [\n        {\n          \"ErrorEquals\": [\n            \"States.Timeout\"\n          ],\n          \"MaxAttempts\": 3,\n          \"IntervalSeconds\": 60,\n          \"BackoffRate\": 2\n        }\n      ],\n      \"Catch\": [\n        {\n          \"ErrorEquals\": [\n            \"States.TaskFailed\"\n          ],\n          \"Next\": \"SNS_CARES_ENTITY_FAILED\"\n        }\n      ],\n      \"Next\": \"PASS CARES_PRD_MAIN_D\"\n    },\n    \"PASS CARES_PRD_MAIN_D\": {\n      \"Type\": \"Pass\",\n      \"Next\": \"CARES_PRT_CUST_D\"\n    },\n    \"CARES_PRT_CUST_D\": {\n      \"Type\": \"Choice\",\n      \"Choices\": [\n        {\n          \"Variable\": \"$.INPUT.CARES_PRT_CUST_D\",\n          \"StringEquals\": \"Y\",\n          \"Next\": \"PASS CARES_PRT_CUST_D\"\n        }\n      ],\n      \"Default\": \"LOAD CARES_PRT_CUST_D\"\n    },\n    \"LOAD CARES_PRT_CUST_D\": {\n      \"Type\": \"Task\",\n      \"InputPath\": \"$\",\n      \"ResultPath\": \"$.CARES_PRT_CUST_D\",\n      \"Resource\": \"arn:aws:states:::glue:startJobRun.sync\",\n      \"Parameters\": {\n        \"JobName\": \"job_mrr_otl_rs_proc\",\n        \"Arguments\": {\n          \"--rs_proc_name\": \"hdl_services_sp.sp_prt_cust_ds_cares\",\n          \"--s3path\": \"s3://odp-us-prod-ent-raw/servicesuit_common/entity/cares/datafabric_cfd_dea/prt_cust_d/year=2020/month=06/day=05/\",\n          \"--aws_secret\": \"us-prod-odp-entity-cds-fsso\",\n          \"--region\": \"us-east-1\",\n          \"--arn\": \"arn:aws:iam::245792935030:role/ODP-US-Prod-AWSServiceRole\"\n        }\n      },\n      \"Retry\": [\n        {\n          \"ErrorEquals\": [\n            \"States.Timeout\"\n          ],\n          \"MaxAttempts\": 3,\n          \"IntervalSeconds\": 60,\n          \"BackoffRate\": 2\n        }\n      ],\n      \"Catch\": [\n        {\n          \"ErrorEquals\": [\n            \"States.TaskFailed\"\n          ],\n          \"Next\": \"SNS_CARES_ENTITY_FAILED\"\n        }\n      ],\n      \"Next\": \"PASS CARES_PRT_CUST_D\"\n    },\n    \"PASS CARES_PRT_CUST_D\": {\n      \"Type\": \"Pass\",\n      \"Next\": \"Completed\"\n    },\n    \"Completed\": {\n      \"Type\": \"Pass\",\n      \"Next\": \"SNS_ONE TIME CAPS/CARES SCHEDULE_SUCCESS\"\n    },\n    \"SNS_ONE TIME CAPS/CARES SCHEDULE_SUCCESS\": {\n      \"Type\": \"Task\",\n      \"Resource\": \"arn:aws:states:::sns:publish\",\n      \"Parameters\": {\n        \"TopicArn\": \"arn:aws:sns:us-east-1:245792935030:ODP_SFN_SUCCESS\",\n        \"Message\": {\n          \"Subject\": \"AWS Step function for ONE TIME CAPS/CARES SCHEDULE completed successfully!!\"\n        }\n      },\n      \"End\": true\n    }\n  }\n}", "roleArn": "arn:aws:iam::245792935030:role/ODP-US-Prod-AWSServiceRole", "type": "STANDARD", "creationDate": "2020-06-08 15:25:22.837000+00:00", "loggingConfiguration": {"level": "ALL", "includeExecutionData": true, "destinations": [{"cloudWatchLogsLogGroup": {"logGroupArn": "arn:aws:logs:us-east-1:245792935030:log-group:/aws/states/CD_ENTITY_ONE_TIME_CAPS_CARES_SCHEDULE-Logs:*"}}]}, "ResponseMetadata": {"RequestId": "eb4b3c5e-3921-43b4-836f-1420193bf26a", "HTTPStatusCode": 200, "HTTPHeaders": {"x-amzn-requestid": "eb4b3c5e-3921-43b4-836f-1420193bf26a", "content-type": "application/x-amz-json-1.0", "content-length": "13181"}, "RetryAttempts": 0}}