{"Comment": "spm", "StartAt": "START spm extracts", "States": {"START spm extracts": {"Type": "Pass", "InputPath": "$", "OutputPath": "$", "Next": "CHECK ifr_query_incremental"}, "CHECK ifr_query_incremental": {"Type": "Choice", "Choices": [{"Variable": "$.INPUT.ifr_query_incremental", "StringEquals": "Y", "Next": "SKIP ifr_query_incremental"}], "Default": "EXTRACT ifr_query_incremental"}, "EXTRACT ifr_query_incremental": {"Type": "Task", "Resource": "arn:aws:states:::glue:startJobRun.sync", "Parameters": {"JobName": "us-prod-daasbatchextract", "Arguments": {"--application_name": "spm", "--extract_number": "1"}}, "ResultPath": null, "Catch": [{"ErrorEquals": ["States.ALL"], "ResultPath": null, "Next": "CHECK SCR_Extract_Query_v1"}], "Next": "CHECK SCR_Extract_Query_v1"}, "SKIP ifr_query_incremental": {"Type": "Pass", "Next": "CHECK SCR_Extract_Query_v1"}, "CHECK SCR_Extract_Query_v1": {"Type": "Choice", "Choices": [{"Variable": "$.INPUT.SCR_Extract_Query_v1", "StringEquals": "Y", "Next": "SKIP SCR_Extract_Query_v1"}], "Default": "EXTRACT SCR_Extract_Query_v1"}, "EXTRACT SCR_Extract_Query_v1": {"Type": "Task", "Resource": "arn:aws:states:::glue:startJobRun.sync", "Parameters": {"JobName": "us-prod-daasbatchextract", "Arguments": {"--application_name": "spm", "--extract_number": "2"}}, "ResultPath": null, "End": true}, "SKIP SCR_Extract_Query_v1": {"Type": "Pass", "End": true}}}